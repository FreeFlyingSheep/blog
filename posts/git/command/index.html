<!doctype html><html lang=zh-cn dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Git 常用命令 | FreeFlyingSheep 的小站</title><meta name=keywords content="Git"><meta name=description content="根据 Pro Git (2nd Edition)（中文版）整理。"><meta name=author content="FreeFlyingSheep"><link rel=canonical href=https://freeflyingsheep.github.io/posts/git/command/><link crossorigin=anonymous href=/assets/css/stylesheet.min.35cd0f65a15cafa92372b8313deef5960aae04b90ad722f2bbf509eb0468137e.css integrity="sha256-Nc0PZaFcr6kjcrgxPe71lgquBLkK1yLyu/UJ6wRoE34=" rel="preload stylesheet" as=style><link rel=preload href=/avatar.png as=image><script defer crossorigin=anonymous src=/assets/js/highlight.min.7680afc38aa6b15ddf158a4f3780b7b1f7dde7e91d26f073e6229bb7a0793c92.js integrity="sha256-doCvw4qmsV3fFYpPN4C3sffd5+kdJvBz5iKbt6B5PJI=" onload=hljs.initHighlightingOnLoad()></script><link rel=icon href=https://freeflyingsheep.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://freeflyingsheep.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://freeflyingsheep.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://freeflyingsheep.github.io/apple-touch-icon.png><link rel=mask-icon href=https://freeflyingsheep.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.85.0"><meta property="og:title" content="Git 常用命令"><meta property="og:description" content="根据 Pro Git (2nd Edition)（中文版）整理。"><meta property="og:type" content="article"><meta property="og:url" content="https://freeflyingsheep.github.io/posts/git/command/"><meta property="og:image" content="https://freeflyingsheep.github.io/papermod-cover.png"><meta property="article:section" content="posts"><meta property="article:published_time" content="2020-07-16T00:00:00+00:00"><meta property="article:modified_time" content="2020-07-16T00:00:00+00:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://freeflyingsheep.github.io/papermod-cover.png"><meta name=twitter:title content="Git 常用命令"><meta name=twitter:description content="根据 Pro Git (2nd Edition)（中文版）整理。"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://freeflyingsheep.github.io/posts/"},{"@type":"ListItem","position":2,"name":"Git 常用命令","item":"https://freeflyingsheep.github.io/posts/git/command/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Git 常用命令","name":"Git 常用命令","description":"根据 Pro Git (2nd Edition)（中文版）整理。\n","keywords":["Git"],"articleBody":"根据 Pro Git (2nd Edition)（中文版）整理。\nGit 基础 初次运行 Git 前的配置 1 2  git config --global user.name \"FreeFlyingSheep\" git config --global user.email \"chris.chenfeiyang@outlook.com\"   代理配置 设置代理 1 2 3 4  git config --global https.proxy \"http://127.0.0.1:xxxx\" git config --global https.proxy \"https://127.0.0.1:xxxx\" git config --global http.proxy \"socks5://127.0.0.1:xxxx\" git config --global https.proxy \"socks5://127.0.0.1:xxxx\"   取消代理 1 2  git config --global --unset http.proxy git config --global --unset https.proxy   获取 Git 仓库 在已存在目录中初始化仓库 1 2  cd  git init   克隆现有的仓库 1  git clone  [my_name]   查看文件状态 1  git status   查看修改内容 1  git diff   git diff 本身只显示尚未暂存的改动，而不是自上次提交以来所做的所有改动。\n跟踪新文件 1  git add  ...   提交更新 1  git commit -m ''   忽略文件 文件 .gitignore 的格式规范如下：\n 所有空行或者以 # 开头的行都会被 Git 忽略 可以使用标准的 glob 模式匹配，它会递归地应用在整个工作区中 匹配模式可以以（/）开头防止递归 匹配模式可以以（/）结尾指定目录 要忽略指定模式以外的文件或目录，可以在模式前加上叹号（!）取反  所谓的 glob 模式是指 shell 所使用的简化了的正则表达式：\n 星号（*）匹配零个或多个任意字符；[abc] 匹配任何一个列在方括号中的字符（这个例子要么匹配一个 a，要么匹配一个 b，要么匹配一个 c） 问号（?）只匹配一个任意字符 如果在方括号中使用短划线分隔两个字符，表示所有在这两个字符范围内的都可以匹配（比如 [0-9] 表示匹配所有 0 到 9 的数字） 使用两个星号（**）表示匹配任意中间目录，比如 a/**/z 可以匹配 a/z、a/b/z 或 a/b/c/z 等  GitHub 有一个十分详细的针对数十种项目及语言的 .gitignore 文件列表。\n在最简单的情况下，一个仓库可能只根目录下有一个 .gitignore 文件，它递归地应用到整个仓库中。然而，子目录下也可以有额外的 .gitignore 文件。子目录中的 .gitignore 文件中的规则只作用于它所在的目录中。\n移除文件 1  git rm  ...   如果要删除之前修改过或已经放到暂存区的文件，则必须使用强制删除选项 -f。\n另外一种情况是，我们想把文件从 Git 仓库中删除（亦即从暂存区域移除），但仍然希望保留在当前工作目录中。换句话说，你想让文件保留在磁盘，但是并不想让 Git 继续跟踪。当你忘记添加 .gitignore 文件，不小心把一个很大的日志文件或一堆 .a 这样的编译生成文件添加到暂存区时，这一做法尤其有用。为达到这一目的，使用 --cached 选项。\n移动文件 1  git mv     查看提交历史 1  git log   撤消操作 补上遗漏的文件 有时候我们提交完了才发现漏掉了几个文件没有添加，或者提交信息写错了，此时，可以运行带有 --amend 选项的提交命令来重新提交：\n1 2 3  git commit -m 'initial commit' git add forgotten_file git commit --amend   取消暂存的文件 1  git reset HEAD  ...   撤消对文件的修改 1  git checkout --    请务必记得这是一个危险的命令，你对那个文件在本地的任何修改都会消失—— Git 会用最近提交的版本覆盖掉它。除非你确实清楚不想要对那个文件的本地修改了，否则请不要使用这个命令。\n远程仓库的使用 查看远程仓库 1  git remote -v   添加远程仓库 1  git remote add     从远程仓库中抓取 1  git fetch []   这个命令会访问远程仓库，从中拉取所有你还没有的数据。执行完成后，你将会拥有那个远程仓库中所有分支的引用，可以随时合并或查看。\n必须注意该命令只会将数据下载到你的本地仓库——它并不会自动合并或修改你当前的工作。当准备好时你必须手动将其合并入你的工作。\n从远程仓库中拉取 1  git pull []   如果你的当前分支设置了跟踪远程分支，那么可以用 git pull 命令来自动抓取后合并该远程分支到当前分支。\n默认情况下，git clone 命令会自动设置本地 master 分支跟踪克隆的远程仓库的 master 分支（或其它名字的默认分支）。运行 git pull 通常会从最初克隆的服务器上抓取数据并自动尝试合并到当前所在的分支。\n推送到远程仓库 1  git push     查看某个远程仓库 1  git remote show    远程仓库的重命名 1  git remote rename     远程仓库的移除 1  git remote remove    标签 轻量标签很像一个不会改变的分支——它只是某个特定提交的引用。\n附注标签是存储在 Git 数据库中的一个完整对象，它们是可以被校验的，其中包含打标签者的名字、电子邮件地址、日期时间，此外还有一个标签信息，并且可以使用 GNU Privacy Guard（GPG）签名并验证。通常会建议创建附注标签，这样你可以拥有以上所有信息。但是如果你只是想用一个临时的标签，或者因为某些原因不想要保存这些信息，那么也可以用轻量标签。\n列出标签 1  git tag   创建标签 创建附注标签：\n1  git tag -a  -m \"\"   创建轻量标签：\n1  git tag    轻量标签本质上是将提交校验和存储到一个文件中——没有保存任何其他信息。创建轻量标签，不需要使用 -a、-s 或 -m 选项，只需要提供标签名字。\n显示标签信息 1  git show    在附注标签上运行 git show，输出会显示打标签者的信息、打标签的日期时间、附注信息，然后显示具体的提交信息。\n在轻量标签上运行 git show，你不会看到额外的标签信息，命令只会显示出提交信息。\n后期打标签 你也可以对过去的提交打标签，只需要在命令的末尾指定提交的校验和（或部分校验和）。\n示例：\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29  $ git log --pretty=oneline 15027957951b64cf874c3557a0f3547bd83b3ff6 Merge branch 'experiment' a6b4c97498bd301d84096da251c98a07c7723e65 beginning write support 0d52aaab4479697da7686c15f77a3d64d9165190 one more thing 6d52a271eda8725415634dd79daabbc4d9b6008e Merge branch 'experiment' 0b7434d86859cc7b8c3d5e1dddfed66ff742fcbc added a commit function 4682c3261057305bdd616e23b64b0857d832627b added a todo file 166ae0c4d3f420721acbb115cc33848dfcc2121a started write support 9fceb02d0ae598e95dc970b74767f19372d61af8 updated rakefile 964f16d36dfccde844893cac5b347e7b3d44abbc commit the todo 8a5cbc430f1a9c3d00faaeffd07798508422908a updated readme $ git tag -a v1.2 9fceb02 $ git tag v0.1 v1.2 v1.3 v1.4 v1.4-lw v1.5 $ git show v1.2 tag v1.2 Tagger: Scott Chacon  Date: Mon Feb 9 15:32:16 2009 -0800 version 1.2 commit 9fceb02d0ae598e95dc970b74767f19372d61af8 Author: Magnus Chacon  Date: Sun Apr 27 20:43:35 2008 -0700 updated rakefile ...   共享标签 默认情况下，git push 命令并不会传送标签到远程仓库服务器上。在创建完标签后你必须显式地推送标签到共享服务器上。这个过程就像共享远程分支一样——你可以运行 git push origin 。\n如果想要一次性推送很多标签，也可以使用带有 --tags 选项的 git push 命令。这将会把所有不在远程仓库服务器上的标签全部传送到那里。\n删除标签 要删除掉你本地仓库上的标签，可以使用命令 git tag -d 。\n一种直观的删除远程标签的方式是使用命令 git push origin --delete 。\n检出标签 1  git checkout    Git 别名 1  git config --global alias.    例如，为了解决取消暂存文件的易用性问题，可以向 Git 中添加你自己的取消暂存别名：\n1  git config --global alias.unstage 'reset HEAD --'   这会使下面的两个命令等价：\n1 2  git unstage fileA git reset HEAD -- fileA   这样看起来更清楚一些。通常也会添加一个 last 命令，像这样：\n1  git config --global alias.last 'log -1 HEAD'   这样，可以轻松地看到最后一次提交。\nGit 分支 创建分支 1  git branch    切换分支 1  git checkout    创建并切换分支 1  git checkout -b    合并分支 切换（checkout）到想要合并入的分支，如 master，然后执行：\n1  git merge    如何解决合并冲突，举个例子，如果你对 #53 问题的修改和有关 hotfix 分支的修改都涉及到同一个文件的同一处，在合并它们的时候就会产生合并冲突：\n1 2 3 4  $ git merge iss53 Auto-merging index.html CONFLICT (content): Merge conflict in index.html Automatic merge failed; fix conflicts and then commit the result.   你可以在合并冲突后的任意时刻使用 git status 命令来查看那些因包含合并冲突而处于未合并（unmerged）状态的文件：\n1 2 3 4 5 6 7 8  $ git status On branch master You have unmerged paths. (fix conflicts and run \"git commit\") Unmerged paths: (use \"git add ...\" to mark resolution) both modified: index.html no changes added to commit (use \"git add\" and/or \"git commit -a\")   Git 会在有冲突的文件中加入标准的冲突解决标记，这样你可以打开这些包含冲突的文件然后手动解决冲突。出现冲突的文件会包含一些特殊区段，看起来像下面这个样子：\n1 2 3 4 5 6 7  contact : email.support@github.com ======= please contact us at support@github.com   iss53:index.html   这表示 HEAD 所指示的版本（也就是你的 master 分支所在的位置，因为你在运行 merge 命令的时候已经检出到了这个分支）在这个区段的上半部分（======= 的上半部分），而 iss53 分支所指示的版本在 ======= 的下半部分。为了解决冲突，你必须选择使用由 ======= 分割的两部分中的一个，或者你也可以自行合并这些内容。例如，你可以通过把这段内容换成下面的样子来解决冲突：\n1 2 3  div id=\"footer\" please contact us at email.support@github.com div   上述的冲突解决方案仅保留了其中一个分支的修改，并且 ，=======，和  这些行被完全删除了。在你解决了所有文件里的冲突之后，对每个文件使用 git add 命令来将其标记为冲突已解决。一旦暂存这些原本有冲突的文件，Git 就会将它们标记为冲突已解决。\n删除分支 1  git branch -d    若要删除包含了还未合并的工作的分支，-d 选项需要改为 -D。\n查看分支历史 1  git log --oneline --decorate --graph --all   查看分支列表 1  git branch   加 -v 选项查看每一个分支的最后一次提交，--merged 与 --no-merged 选项可以过滤这个列表中已经合并或尚未合并到当前分支的分支。\n远程分支 跟踪远程分支 远程分支以 / 命名，跟踪远程分支可以用如下命令：\n1  git checkout -b  /   或者可以使用如下命令：\n1  git checkout --track /   如果你尝试检出的分支不存在且刚好只有一个名字与之匹配的远程分支，那么 Git 就会自动为你创建一个跟踪分支：\n1  git checkout    设置已有的本地分支跟踪一个刚刚拉取下来的远程分支，或者想要修改正在跟踪的上游分支，你可以在任意时间使用 -u 或 --set-upstream-to 选项运行 git branch 来显式地设置：\n1  git branch -u /   查看跟踪分支 1  git branch -vv   拉取远程分支 见从远程仓库中抓取和从远程仓库中拉取。\n不管设置好的跟踪分支是显式地设置还是通过 clone 或 checkout 命令为你创建的，git pull 都会查找当前分支所跟踪的服务器与分支，从服务器上抓取数据然后尝试合并入那个远程分支。\n由于 git pull 的魔法经常令人困惑所以通常单独显式地使用 fetch 与 merge 命令会更好一些。\n推送远程分支 见推送到远程仓库。\n删除远程分支 1  git push  --delete    变基 1  git rebase    变基的目的是为了确保在向远程分支推送时能保持提交历史的整洁——例如向某个其他人维护的项目贡献代码时。在这种情况下，你首先在自己的分支里进行开发，当开发完成时你需要先将你的代码进行变基，然后再向主模块提交修改。 这样的话，该项目的维护者就不再需要进行整合工作，只需要快进合并便可。\n以一个例子说明合并（merge）和变基（rebase）的区别，假设现在分支如下：\n把 experiment 合并到 master：\nexperiment 合并到 master\" / 对应的操作如下：\n1 2  git checkout master git merge experiment   可以看到，历史记录不是一条直线 。\n如果先把 experiment 变基到 master：\nmaster 变基到 experiment\" / 然后再进行合并操作：\nexperiment 合并到 master\" / 对应的操作如下：\n1 2 3 4  git checkout experiment git rebase master git checkout master git merge experiment   这样历史记录就是一条直线了。\n变基的准则：如果提交存在于你的仓库之外，而别人可能基于这些提交进行开发，那么不要执行变基。\nGithub 生成 SSH 公钥 1  ssh-keygen -t rsa -C \"chris.chenfeiyang@outlook.com\"   添加 SSH 公钥 1  cat ~/.ssh/id_rsa.pub   将内容添加到 Github 相应页面添加公钥。\n验证 1  ssh -T git@github.com   首次使用需要确认并添加主机到本机SSH可信列表。若返回 Hi FreeFlyingSheep! You've successfully authenticated, but GitHub does not provide shell access. 内容，则证明添加成功。\n子模块 添加子模块 1  git submodule add     生成的 .gitmodules 该配置文件保存了项目 URL 与已经拉取的本地目录之间的映射。\n克隆含有子模块的项目 1 2 3  git clone  git submodule init git submodule update   其中，后两行命令可以合并为如下命令：\n1  git submodule update --init   或者，直接使用如下命令一步到位：\n1  git clone --recurse-submodules    从项目远端拉取上游更改 可以进入到目录中运行 git fetch 与 git merge，或者执行以下命令：\n1  git submodule update --remote   Git 默认会尝试更新所有子模块，你也可以传递想要更新的子模块的名字。\n为了安全起见，如果主模块提交了你刚拉取的新子模块，那么应该在 git submodule update 后面添加 --init 选项，如果子模块有嵌套的子模块，则应使用 –recursive 选项。 如果你想自动化此过程，那么可以为 git pull 命令添加 --recurse-submodule。\n在子模块上工作 首先，进入每个子模块并检出其相应的工作分支。\n接着，若你做了更改就需要告诉 Git 它该做什么，然后运行 git submodule update --remote 来从上游拉 取新工作。你可以选择将它们合并（--merge）到你的本地工作中，也可以尝试将你的工作变基（--rebase）到新的更改上。\n如果你忘记 --rebase 或 --merge，Git 会将子模块更新为服务器上的状态。并且会将项目重置为一个游离的 HEAD 状态。即便这真的发生了也不要紧，你只需回到目录中再次检出你的分支然后手动地合并或变基任何一个你想要的远程分支就行了。\n查看子模块修改内容 1  git diff --submodule   查看子模块提交历史 1  git log -p --submodule   提交子模块更新 1  git commit -am ''   发布子模块改动 在推送主模块前，应该先推送所有子模块。\n可以使用 check 选项，这样如果任何提交的子模块改动没有推送，push 操作会直接失败：\n1  git push --recurse-submodules=check   或者在主模块推送时采用 on-demand 选项，让 Git 自己尝试这么做：\n1  git push --recurse-submodules=on-demand   切换带子模块的项目的分支 1  git checkout --recurse-submodules    删除子模块  执行 git rm  删除子模块目录。 删除 .git/modules 下子模块相关内容。 编辑 .git/config 删除子模块相关内容。 执行 git commit 提交更新。  贮藏 贮藏工作 1  git stash [push]   查看贮藏的工作 1  git stash list   应用贮藏 将刚刚贮藏的工作重新应用：\n1  git stash apply   应用一个更旧的贮藏，可以通过名字指定它：\n1  git stash apply    比如：\n1  git stash apply stash@{2}   应用选项只会尝试应用贮藏的工作，不会把贮藏从堆栈上移除。\n移除贮藏 1  git stash drop    应用并移除贮藏 1  git stash pop   ","wordCount":"1050","inLanguage":"zh-cn","datePublished":"2020-07-16T00:00:00Z","dateModified":"2020-07-16T00:00:00Z","author":{"@type":"Person","name":"FreeFlyingSheep"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://freeflyingsheep.github.io/posts/git/command/"},"publisher":{"@type":"Organization","name":"FreeFlyingSheep 的小站","logo":{"@type":"ImageObject","url":"https://freeflyingsheep.github.io/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"&&document.body.classList.add('dark')</script><noscript><style type=text/css>#theme-toggle,.top-link{display:none}</style></noscript><header class=header><nav class=nav><div class=logo><a href=https://freeflyingsheep.github.io/ accesskey=h title="FreeFlyingSheep 的小站 (Alt + H)">FreeFlyingSheep 的小站</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu><li><a href=https://freeflyingsheep.github.io/archives title=Archive><span>Archive</span></a></li><li><a href=https://freeflyingsheep.github.io/categories title=Categories><span>Categories</span></a></li><li><a href=https://freeflyingsheep.github.io/series title=Series><span>Series</span></a></li><li><a href=https://freeflyingsheep.github.io/tags title=Tags><span>Tags</span></a></li><li><a href=https://freeflyingsheep.github.io/about title=About><span>About</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://freeflyingsheep.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://freeflyingsheep.github.io/posts/>Posts</a></div><h1 class=post-title>Git 常用命令</h1><div class=post-meta>July 16, 2020&nbsp;·&nbsp;5 min&nbsp;·&nbsp;FreeFlyingSheep</div></header><div class=toc><details open><summary accesskey=c title="(Alt + C)"><div class=details>Table of Contents</div></summary><div class=inner><ul><li><a href=#git-%e5%9f%ba%e7%a1%80 aria-label="Git 基础">Git 基础</a><ul><li><a href=#%e5%88%9d%e6%ac%a1%e8%bf%90%e8%a1%8c-git-%e5%89%8d%e7%9a%84%e9%85%8d%e7%bd%ae aria-label="初次运行 Git 前的配置">初次运行 Git 前的配置</a></li><li><a href=#%e4%bb%a3%e7%90%86%e9%85%8d%e7%bd%ae aria-label=代理配置>代理配置</a><ul><li><a href=#%e8%ae%be%e7%bd%ae%e4%bb%a3%e7%90%86 aria-label=设置代理>设置代理</a></li><li><a href=#%e5%8f%96%e6%b6%88%e4%bb%a3%e7%90%86 aria-label=取消代理>取消代理</a></li></ul></li><li><a href=#%e8%8e%b7%e5%8f%96-git-%e4%bb%93%e5%ba%93 aria-label="获取 Git 仓库">获取 Git 仓库</a><ul><li><a href=#%e5%9c%a8%e5%b7%b2%e5%ad%98%e5%9c%a8%e7%9b%ae%e5%bd%95%e4%b8%ad%e5%88%9d%e5%a7%8b%e5%8c%96%e4%bb%93%e5%ba%93 aria-label=在已存在目录中初始化仓库>在已存在目录中初始化仓库</a></li><li><a href=#%e5%85%8b%e9%9a%86%e7%8e%b0%e6%9c%89%e7%9a%84%e4%bb%93%e5%ba%93 aria-label=克隆现有的仓库>克隆现有的仓库</a></li></ul></li><li><a href=#%e6%9f%a5%e7%9c%8b%e6%96%87%e4%bb%b6%e7%8a%b6%e6%80%81 aria-label=查看文件状态>查看文件状态</a></li><li><a href=#%e6%9f%a5%e7%9c%8b%e4%bf%ae%e6%94%b9%e5%86%85%e5%ae%b9 aria-label=查看修改内容>查看修改内容</a></li><li><a href=#%e8%b7%9f%e8%b8%aa%e6%96%b0%e6%96%87%e4%bb%b6 aria-label=跟踪新文件>跟踪新文件</a></li><li><a href=#%e6%8f%90%e4%ba%a4%e6%9b%b4%e6%96%b0 aria-label=提交更新>提交更新</a></li><li><a href=#%e5%bf%bd%e7%95%a5%e6%96%87%e4%bb%b6 aria-label=忽略文件>忽略文件</a></li><li><a href=#%e7%a7%bb%e9%99%a4%e6%96%87%e4%bb%b6 aria-label=移除文件>移除文件</a></li><li><a href=#%e7%a7%bb%e5%8a%a8%e6%96%87%e4%bb%b6 aria-label=移动文件>移动文件</a></li><li><a href=#%e6%9f%a5%e7%9c%8b%e6%8f%90%e4%ba%a4%e5%8e%86%e5%8f%b2 aria-label=查看提交历史>查看提交历史</a></li><li><a href=#%e6%92%a4%e6%b6%88%e6%93%8d%e4%bd%9c aria-label=撤消操作>撤消操作</a><ul><li><a href=#%e8%a1%a5%e4%b8%8a%e9%81%97%e6%bc%8f%e7%9a%84%e6%96%87%e4%bb%b6 aria-label=补上遗漏的文件>补上遗漏的文件</a></li><li><a href=#%e5%8f%96%e6%b6%88%e6%9a%82%e5%ad%98%e7%9a%84%e6%96%87%e4%bb%b6 aria-label=取消暂存的文件>取消暂存的文件</a></li><li><a href=#%e6%92%a4%e6%b6%88%e5%af%b9%e6%96%87%e4%bb%b6%e7%9a%84%e4%bf%ae%e6%94%b9 aria-label=撤消对文件的修改>撤消对文件的修改</a></li></ul></li><li><a href=#%e8%bf%9c%e7%a8%8b%e4%bb%93%e5%ba%93%e7%9a%84%e4%bd%bf%e7%94%a8 aria-label=远程仓库的使用>远程仓库的使用</a><ul><li><a href=#%e6%9f%a5%e7%9c%8b%e8%bf%9c%e7%a8%8b%e4%bb%93%e5%ba%93 aria-label=查看远程仓库>查看远程仓库</a></li><li><a href=#%e6%b7%bb%e5%8a%a0%e8%bf%9c%e7%a8%8b%e4%bb%93%e5%ba%93 aria-label=添加远程仓库>添加远程仓库</a></li><li><a href=#%e4%bb%8e%e8%bf%9c%e7%a8%8b%e4%bb%93%e5%ba%93%e4%b8%ad%e6%8a%93%e5%8f%96 aria-label=从远程仓库中抓取>从远程仓库中抓取</a></li><li><a href=#%e4%bb%8e%e8%bf%9c%e7%a8%8b%e4%bb%93%e5%ba%93%e4%b8%ad%e6%8b%89%e5%8f%96 aria-label=从远程仓库中拉取>从远程仓库中拉取</a></li><li><a href=#%e6%8e%a8%e9%80%81%e5%88%b0%e8%bf%9c%e7%a8%8b%e4%bb%93%e5%ba%93 aria-label=推送到远程仓库>推送到远程仓库</a></li><li><a href=#%e6%9f%a5%e7%9c%8b%e6%9f%90%e4%b8%aa%e8%bf%9c%e7%a8%8b%e4%bb%93%e5%ba%93 aria-label=查看某个远程仓库>查看某个远程仓库</a></li><li><a href=#%e8%bf%9c%e7%a8%8b%e4%bb%93%e5%ba%93%e7%9a%84%e9%87%8d%e5%91%bd%e5%90%8d aria-label=远程仓库的重命名>远程仓库的重命名</a></li><li><a href=#%e8%bf%9c%e7%a8%8b%e4%bb%93%e5%ba%93%e7%9a%84%e7%a7%bb%e9%99%a4 aria-label=远程仓库的移除>远程仓库的移除</a></li></ul></li><li><a href=#%e6%a0%87%e7%ad%be aria-label=标签>标签</a><ul><li><a href=#%e5%88%97%e5%87%ba%e6%a0%87%e7%ad%be aria-label=列出标签>列出标签</a></li><li><a href=#%e5%88%9b%e5%bb%ba%e6%a0%87%e7%ad%be aria-label=创建标签>创建标签</a></li><li><a href=#%e6%98%be%e7%a4%ba%e6%a0%87%e7%ad%be%e4%bf%a1%e6%81%af aria-label=显示标签信息>显示标签信息</a></li><li><a href=#%e5%90%8e%e6%9c%9f%e6%89%93%e6%a0%87%e7%ad%be aria-label=后期打标签>后期打标签</a></li><li><a href=#%e5%85%b1%e4%ba%ab%e6%a0%87%e7%ad%be aria-label=共享标签>共享标签</a></li><li><a href=#%e5%88%a0%e9%99%a4%e6%a0%87%e7%ad%be aria-label=删除标签>删除标签</a></li><li><a href=#%e6%a3%80%e5%87%ba%e6%a0%87%e7%ad%be aria-label=检出标签>检出标签</a></li></ul></li><li><a href=#git-%e5%88%ab%e5%90%8d aria-label="Git 别名">Git 别名</a></li></ul></li><li><a href=#git-%e5%88%86%e6%94%af aria-label="Git 分支">Git 分支</a><ul><li><a href=#%e5%88%9b%e5%bb%ba%e5%88%86%e6%94%af aria-label=创建分支>创建分支</a></li><li><a href=#%e5%88%87%e6%8d%a2%e5%88%86%e6%94%af aria-label=切换分支>切换分支</a></li><li><a href=#%e5%88%9b%e5%bb%ba%e5%b9%b6%e5%88%87%e6%8d%a2%e5%88%86%e6%94%af aria-label=创建并切换分支>创建并切换分支</a></li><li><a href=#%e5%90%88%e5%b9%b6%e5%88%86%e6%94%af aria-label=合并分支>合并分支</a></li><li><a href=#%e5%88%a0%e9%99%a4%e5%88%86%e6%94%af aria-label=删除分支>删除分支</a></li><li><a href=#%e6%9f%a5%e7%9c%8b%e5%88%86%e6%94%af%e5%8e%86%e5%8f%b2 aria-label=查看分支历史>查看分支历史</a></li><li><a href=#%e6%9f%a5%e7%9c%8b%e5%88%86%e6%94%af%e5%88%97%e8%a1%a8 aria-label=查看分支列表>查看分支列表</a></li><li><a href=#%e8%bf%9c%e7%a8%8b%e5%88%86%e6%94%af aria-label=远程分支>远程分支</a><ul><li><a href=#%e8%b7%9f%e8%b8%aa%e8%bf%9c%e7%a8%8b%e5%88%86%e6%94%af aria-label=跟踪远程分支>跟踪远程分支</a></li><li><a href=#%e6%9f%a5%e7%9c%8b%e8%b7%9f%e8%b8%aa%e5%88%86%e6%94%af aria-label=查看跟踪分支>查看跟踪分支</a></li><li><a href=#%e6%8b%89%e5%8f%96%e8%bf%9c%e7%a8%8b%e5%88%86%e6%94%af aria-label=拉取远程分支>拉取远程分支</a></li><li><a href=#%e6%8e%a8%e9%80%81%e8%bf%9c%e7%a8%8b%e5%88%86%e6%94%af aria-label=推送远程分支>推送远程分支</a></li><li><a href=#%e5%88%a0%e9%99%a4%e8%bf%9c%e7%a8%8b%e5%88%86%e6%94%af aria-label=删除远程分支>删除远程分支</a></li></ul></li><li><a href=#%e5%8f%98%e5%9f%ba aria-label=变基>变基</a></li></ul></li><li><a href=#github aria-label=Github>Github</a><ul><li><a href=#%e7%94%9f%e6%88%90-ssh-%e5%85%ac%e9%92%a5 aria-label="生成 SSH 公钥">生成 SSH 公钥</a></li><li><a href=#%e6%b7%bb%e5%8a%a0-ssh-%e5%85%ac%e9%92%a5 aria-label="添加 SSH 公钥">添加 SSH 公钥</a></li><li><a href=#%e9%aa%8c%e8%af%81 aria-label=验证>验证</a></li></ul></li><li><a href=#%e5%ad%90%e6%a8%a1%e5%9d%97 aria-label=子模块>子模块</a><ul><li><a href=#%e6%b7%bb%e5%8a%a0%e5%ad%90%e6%a8%a1%e5%9d%97 aria-label=添加子模块>添加子模块</a></li><li><a href=#%e5%85%8b%e9%9a%86%e5%90%ab%e6%9c%89%e5%ad%90%e6%a8%a1%e5%9d%97%e7%9a%84%e9%a1%b9%e7%9b%ae aria-label=克隆含有子模块的项目>克隆含有子模块的项目</a></li><li><a href=#%e4%bb%8e%e9%a1%b9%e7%9b%ae%e8%bf%9c%e7%ab%af%e6%8b%89%e5%8f%96%e4%b8%8a%e6%b8%b8%e6%9b%b4%e6%94%b9 aria-label=从项目远端拉取上游更改>从项目远端拉取上游更改</a></li><li><a href=#%e5%9c%a8%e5%ad%90%e6%a8%a1%e5%9d%97%e4%b8%8a%e5%b7%a5%e4%bd%9c aria-label=在子模块上工作>在子模块上工作</a></li><li><a href=#%e6%9f%a5%e7%9c%8b%e5%ad%90%e6%a8%a1%e5%9d%97%e4%bf%ae%e6%94%b9%e5%86%85%e5%ae%b9 aria-label=查看子模块修改内容>查看子模块修改内容</a></li><li><a href=#%e6%9f%a5%e7%9c%8b%e5%ad%90%e6%a8%a1%e5%9d%97%e6%8f%90%e4%ba%a4%e5%8e%86%e5%8f%b2 aria-label=查看子模块提交历史>查看子模块提交历史</a></li><li><a href=#%e6%8f%90%e4%ba%a4%e5%ad%90%e6%a8%a1%e5%9d%97%e6%9b%b4%e6%96%b0 aria-label=提交子模块更新>提交子模块更新</a></li><li><a href=#%e5%8f%91%e5%b8%83%e5%ad%90%e6%a8%a1%e5%9d%97%e6%94%b9%e5%8a%a8 aria-label=发布子模块改动>发布子模块改动</a></li><li><a href=#%e5%88%87%e6%8d%a2%e5%b8%a6%e5%ad%90%e6%a8%a1%e5%9d%97%e7%9a%84%e9%a1%b9%e7%9b%ae%e7%9a%84%e5%88%86%e6%94%af aria-label=切换带子模块的项目的分支>切换带子模块的项目的分支</a></li><li><a href=#%e5%88%a0%e9%99%a4%e5%ad%90%e6%a8%a1%e5%9d%97 aria-label=删除子模块>删除子模块</a></li></ul></li><li><a href=#%e8%b4%ae%e8%97%8f aria-label=贮藏>贮藏</a><ul><li><a href=#%e8%b4%ae%e8%97%8f%e5%b7%a5%e4%bd%9c aria-label=贮藏工作>贮藏工作</a></li><li><a href=#%e6%9f%a5%e7%9c%8b%e8%b4%ae%e8%97%8f%e7%9a%84%e5%b7%a5%e4%bd%9c aria-label=查看贮藏的工作>查看贮藏的工作</a></li><li><a href=#%e5%ba%94%e7%94%a8%e8%b4%ae%e8%97%8f aria-label=应用贮藏>应用贮藏</a></li><li><a href=#%e7%a7%bb%e9%99%a4%e8%b4%ae%e8%97%8f aria-label=移除贮藏>移除贮藏</a></li><li><a href=#%e5%ba%94%e7%94%a8%e5%b9%b6%e7%a7%bb%e9%99%a4%e8%b4%ae%e8%97%8f aria-label=应用并移除贮藏>应用并移除贮藏</a></li></ul></li></ul></div></details></div><div class=post-content><p>根据 <em><a href=https://git-scm.com/book/zh/v2>Pro Git (2nd Edition)</a></em>（中文版）整理。</p><h2 id=git-基础>Git 基础<a hidden class=anchor aria-hidden=true href=#git-基础>#</a></h2><h3 id=初次运行-git-前的配置>初次运行 Git 前的配置<a hidden class=anchor aria-hidden=true href=#初次运行-git-前的配置>#</a></h3><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>git config --global user.name <span style=color:#e6db74>&#34;FreeFlyingSheep&#34;</span>
git config --global user.email <span style=color:#e6db74>&#34;chris.chenfeiyang@outlook.com&#34;</span>
</code></pre></td></tr></table></div></div><h3 id=代理配置>代理配置<a hidden class=anchor aria-hidden=true href=#代理配置>#</a></h3><h4 id=设置代理>设置代理<a hidden class=anchor aria-hidden=true href=#设置代理>#</a></h4><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>git config --global https.proxy <span style=color:#e6db74>&#34;http://127.0.0.1:xxxx&#34;</span>
git config --global https.proxy <span style=color:#e6db74>&#34;https://127.0.0.1:xxxx&#34;</span>
git config --global http.proxy <span style=color:#e6db74>&#34;socks5://127.0.0.1:xxxx&#34;</span>
git config --global https.proxy <span style=color:#e6db74>&#34;socks5://127.0.0.1:xxxx&#34;</span>
</code></pre></td></tr></table></div></div><h4 id=取消代理>取消代理<a hidden class=anchor aria-hidden=true href=#取消代理>#</a></h4><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>git config --global --unset http.proxy
git config --global --unset https.proxy
</code></pre></td></tr></table></div></div><h3 id=获取-git-仓库>获取 Git 仓库<a hidden class=anchor aria-hidden=true href=#获取-git-仓库>#</a></h3><h4 id=在已存在目录中初始化仓库>在已存在目录中初始化仓库<a hidden class=anchor aria-hidden=true href=#在已存在目录中初始化仓库>#</a></h4><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>cd &lt;my_project&gt;
git init
</code></pre></td></tr></table></div></div><h4 id=克隆现有的仓库>克隆现有的仓库<a hidden class=anchor aria-hidden=true href=#克隆现有的仓库>#</a></h4><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>git clone &lt;url&gt; <span style=color:#f92672>[</span>my_name<span style=color:#f92672>]</span>
</code></pre></td></tr></table></div></div><h3 id=查看文件状态>查看文件状态<a hidden class=anchor aria-hidden=true href=#查看文件状态>#</a></h3><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>git status
</code></pre></td></tr></table></div></div><h3 id=查看修改内容>查看修改内容<a hidden class=anchor aria-hidden=true href=#查看修改内容>#</a></h3><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>git diff
</code></pre></td></tr></table></div></div><p><code>git diff</code> 本身只显示尚未暂存的改动，而不是自上次提交以来所做的所有改动。</p><h3 id=跟踪新文件>跟踪新文件<a hidden class=anchor aria-hidden=true href=#跟踪新文件>#</a></h3><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>git add &lt;file&gt; ...
</code></pre></td></tr></table></div></div><h3 id=提交更新>提交更新<a hidden class=anchor aria-hidden=true href=#提交更新>#</a></h3><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>git commit -m <span style=color:#e6db74>&#39;&lt;message&gt;&#39;</span>
</code></pre></td></tr></table></div></div><h3 id=忽略文件>忽略文件<a hidden class=anchor aria-hidden=true href=#忽略文件>#</a></h3><p>文件 <code>.gitignore</code> 的格式规范如下：</p><ul><li>所有空行或者以 <code>#</code> 开头的行都会被 Git 忽略</li><li>可以使用标准的 glob 模式匹配，它会递归地应用在整个工作区中</li><li>匹配模式可以以（<code>/</code>）开头防止递归</li><li>匹配模式可以以（<code>/</code>）结尾指定目录</li><li>要忽略指定模式以外的文件或目录，可以在模式前加上叹号（<code>!</code>）取反</li></ul><p>所谓的 glob 模式是指 shell 所使用的简化了的正则表达式：</p><ul><li>星号（<code>*</code>）匹配零个或多个任意字符；<code>[abc]</code> 匹配任何一个列在方括号中的字符（这个例子要么匹配一个 <code>a</code>，要么匹配一个 <code>b</code>，要么匹配一个 <code>c</code>）</li><li>问号（<code>?</code>）只匹配一个任意字符</li><li>如果在方括号中使用短划线分隔两个字符，表示所有在这两个字符范围内的都可以匹配（比如 <code>[0-9]</code> 表示匹配所有 <code>0</code> 到 <code>9</code> 的数字）</li><li>使用两个星号（<code>**</code>）表示匹配任意中间目录，比如 <code>a/**/z</code> 可以匹配 <code>a/z</code>、<code>a/b/z</code> 或 <code>a/b/c/z</code> 等</li></ul><p>GitHub 有一个十分详细的针对数十种项目及语言的 <a href=https://github.com/github/gitignore><code>.gitignore</code> 文件列表</a>。</p><p>在最简单的情况下，一个仓库可能只根目录下有一个 <code>.gitignore</code> 文件，它递归地应用到整个仓库中。然而，子目录下也可以有额外的 <code>.gitignore</code> 文件。子目录中的 <code>.gitignore</code> 文件中的规则只作用于它所在的目录中。</p><h3 id=移除文件>移除文件<a hidden class=anchor aria-hidden=true href=#移除文件>#</a></h3><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>git rm &lt;file&gt; ...
</code></pre></td></tr></table></div></div><p>如果要删除之前修改过或已经放到暂存区的文件，则必须使用强制删除选项 <code>-f</code>。</p><p>另外一种情况是，我们想把文件从 Git 仓库中删除（亦即从暂存区域移除），但仍然希望保留在当前工作目录中。换句话说，你想让文件保留在磁盘，但是并不想让 Git 继续跟踪。当你忘记添加 <code>.gitignore</code> 文件，不小心把一个很大的日志文件或一堆 .a 这样的编译生成文件添加到暂存区时，这一做法尤其有用。为达到这一目的，使用 <code>--cached</code> 选项。</p><h3 id=移动文件>移动文件<a hidden class=anchor aria-hidden=true href=#移动文件>#</a></h3><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>git mv &lt;file_from&gt; &lt;file_to&gt;
</code></pre></td></tr></table></div></div><h3 id=查看提交历史>查看提交历史<a hidden class=anchor aria-hidden=true href=#查看提交历史>#</a></h3><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>git log
</code></pre></td></tr></table></div></div><h3 id=撤消操作>撤消操作<a hidden class=anchor aria-hidden=true href=#撤消操作>#</a></h3><h4 id=补上遗漏的文件>补上遗漏的文件<a hidden class=anchor aria-hidden=true href=#补上遗漏的文件>#</a></h4><p>有时候我们提交完了才发现漏掉了几个文件没有添加，或者提交信息写错了，此时，可以运行带有 <code>--amend</code> 选项的提交命令来重新提交：</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>git commit -m <span style=color:#e6db74>&#39;initial commit&#39;</span>
git add forgotten_file
git commit --amend
</code></pre></td></tr></table></div></div><h4 id=取消暂存的文件>取消暂存的文件<a hidden class=anchor aria-hidden=true href=#取消暂存的文件>#</a></h4><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>git reset HEAD &lt;file&gt; ...
</code></pre></td></tr></table></div></div><h4 id=撤消对文件的修改>撤消对文件的修改<a hidden class=anchor aria-hidden=true href=#撤消对文件的修改>#</a></h4><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>git checkout -- &lt;file&gt;
</code></pre></td></tr></table></div></div><p>请务必记得这是一个危险的命令，你对那个文件在本地的任何修改都会消失—— Git 会用最近提交的版本覆盖掉它。除非你确实清楚不想要对那个文件的本地修改了，否则请不要使用这个命令。</p><h3 id=远程仓库的使用>远程仓库的使用<a hidden class=anchor aria-hidden=true href=#远程仓库的使用>#</a></h3><h4 id=查看远程仓库>查看远程仓库<a hidden class=anchor aria-hidden=true href=#查看远程仓库>#</a></h4><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>git remote -v
</code></pre></td></tr></table></div></div><h4 id=添加远程仓库>添加远程仓库<a hidden class=anchor aria-hidden=true href=#添加远程仓库>#</a></h4><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>git remote add &lt;shortname&gt; &lt;url&gt;
</code></pre></td></tr></table></div></div><h4 id=从远程仓库中抓取>从远程仓库中抓取<a hidden class=anchor aria-hidden=true href=#从远程仓库中抓取>#</a></h4><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>git fetch <span style=color:#f92672>[</span>&lt;remote&gt;<span style=color:#f92672>]</span>
</code></pre></td></tr></table></div></div><p>这个命令会访问远程仓库，从中拉取所有你还没有的数据。执行完成后，你将会拥有那个远程仓库中所有分支的引用，可以随时合并或查看。</p><p>必须注意该命令只会将数据下载到你的本地仓库——它并不会自动合并或修改你当前的工作。当准备好时你必须手动将其合并入你的工作。</p><h4 id=从远程仓库中拉取>从远程仓库中拉取<a hidden class=anchor aria-hidden=true href=#从远程仓库中拉取>#</a></h4><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>git pull <span style=color:#f92672>[</span>&lt;remote&gt;<span style=color:#f92672>]</span>
</code></pre></td></tr></table></div></div><p>如果你的当前分支设置了跟踪远程分支，那么可以用 <code>git pull</code> 命令来自动抓取后合并该远程分支到当前分支。</p><p>默认情况下，<code>git clone</code> 命令会自动设置本地 <code>master</code> 分支跟踪克隆的远程仓库的 <code>master</code> 分支（或其它名字的默认分支）。运行 <code>git pull</code> 通常会从最初克隆的服务器上抓取数据并自动尝试合并到当前所在的分支。</p><h4 id=推送到远程仓库>推送到远程仓库<a hidden class=anchor aria-hidden=true href=#推送到远程仓库>#</a></h4><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>git push &lt;remote&gt; &lt;branch&gt;
</code></pre></td></tr></table></div></div><h4 id=查看某个远程仓库>查看某个远程仓库<a hidden class=anchor aria-hidden=true href=#查看某个远程仓库>#</a></h4><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>git remote show &lt;remote&gt;
</code></pre></td></tr></table></div></div><h4 id=远程仓库的重命名>远程仓库的重命名<a hidden class=anchor aria-hidden=true href=#远程仓库的重命名>#</a></h4><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>git remote rename &lt;old&gt; &lt;new&gt;
</code></pre></td></tr></table></div></div><h4 id=远程仓库的移除>远程仓库的移除<a hidden class=anchor aria-hidden=true href=#远程仓库的移除>#</a></h4><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>git remote remove &lt;remote&gt;
</code></pre></td></tr></table></div></div><h3 id=标签>标签<a hidden class=anchor aria-hidden=true href=#标签>#</a></h3><p>轻量标签很像一个不会改变的分支——它只是某个特定提交的引用。</p><p>附注标签是存储在 Git 数据库中的一个完整对象，它们是可以被校验的，其中包含打标签者的名字、电子邮件地址、日期时间，此外还有一个标签信息，并且可以使用 GNU Privacy Guard（GPG）签名并验证。通常会建议创建附注标签，这样你可以拥有以上所有信息。但是如果你只是想用一个临时的标签，或者因为某些原因不想要保存这些信息，那么也可以用轻量标签。</p><h4 id=列出标签>列出标签<a hidden class=anchor aria-hidden=true href=#列出标签>#</a></h4><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>git tag
</code></pre></td></tr></table></div></div><h4 id=创建标签>创建标签<a hidden class=anchor aria-hidden=true href=#创建标签>#</a></h4><p>创建附注标签：</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>git tag -a &lt;tagname&gt; -m <span style=color:#e6db74>&#34;&lt;message&gt;&#34;</span>
</code></pre></td></tr></table></div></div><p>创建轻量标签：</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>git tag &lt;tagname&gt;
</code></pre></td></tr></table></div></div><p>轻量标签本质上是将提交校验和存储到一个文件中——没有保存任何其他信息。创建轻量标签，不需要使用 -a、-s 或 -m 选项，只需要提供标签名字。</p><h4 id=显示标签信息>显示标签信息<a hidden class=anchor aria-hidden=true href=#显示标签信息>#</a></h4><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>git show &lt;tagname&gt;
</code></pre></td></tr></table></div></div><p>在附注标签上运行 <code>git show</code>，输出会显示打标签者的信息、打标签的日期时间、附注信息，然后显示具体的提交信息。</p><p>在轻量标签上运行 <code>git show</code>，你不会看到额外的标签信息，命令只会显示出提交信息。</p><h4 id=后期打标签>后期打标签<a hidden class=anchor aria-hidden=true href=#后期打标签>#</a></h4><p>你也可以对过去的提交打标签，只需要在命令的末尾指定提交的校验和（或部分校验和）。</p><p>示例：</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">22
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">23
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">24
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">25
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">26
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">27
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">28
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">29
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ git log --pretty<span style=color:#f92672>=</span>oneline
15027957951b64cf874c3557a0f3547bd83b3ff6 Merge branch <span style=color:#e6db74>&#39;experiment&#39;</span>
a6b4c97498bd301d84096da251c98a07c7723e65 beginning write support
0d52aaab4479697da7686c15f77a3d64d9165190 one more thing
6d52a271eda8725415634dd79daabbc4d9b6008e Merge branch <span style=color:#e6db74>&#39;experiment&#39;</span>
0b7434d86859cc7b8c3d5e1dddfed66ff742fcbc added a commit <span style=color:#66d9ef>function</span>
4682c3261057305bdd616e23b64b0857d832627b added a todo file
166ae0c4d3f420721acbb115cc33848dfcc2121a started write support
9fceb02d0ae598e95dc970b74767f19372d61af8 updated rakefile
964f16d36dfccde844893cac5b347e7b3d44abbc commit the todo
8a5cbc430f1a9c3d00faaeffd07798508422908a updated readme
$ git tag -a v1.2 9fceb02
$ git tag
v0.1
v1.2
v1.3
v1.4
v1.4-lw
v1.5
$ git show v1.2
tag v1.2
Tagger: Scott Chacon &lt;schacon@gee-mail.com&gt;
Date: Mon Feb <span style=color:#ae81ff>9</span> 15:32:16 <span style=color:#ae81ff>2009</span> -0800
version 1.2
commit 9fceb02d0ae598e95dc970b74767f19372d61af8
Author: Magnus Chacon &lt;mchacon@gee-mail.com&gt;
Date: Sun Apr <span style=color:#ae81ff>27</span> 20:43:35 <span style=color:#ae81ff>2008</span> -0700
updated rakefile
...
</code></pre></td></tr></table></div></div><h4 id=共享标签>共享标签<a hidden class=anchor aria-hidden=true href=#共享标签>#</a></h4><p>默认情况下，git push 命令并不会传送标签到远程仓库服务器上。在创建完标签后你必须显式地推送标签到共享服务器上。这个过程就像共享远程分支一样——你可以运行 <code>git push origin &lt;tagname></code>。</p><p>如果想要一次性推送很多标签，也可以使用带有 <code>--tags</code> 选项的 <code>git push</code> 命令。这将会把所有不在远程仓库服务器上的标签全部传送到那里。</p><h4 id=删除标签>删除标签<a hidden class=anchor aria-hidden=true href=#删除标签>#</a></h4><p>要删除掉你本地仓库上的标签，可以使用命令 <code>git tag -d &lt;tagname></code>。</p><p>一种直观的删除远程标签的方式是使用命令 <code>git push origin --delete &lt;tagname></code>。</p><h4 id=检出标签>检出标签<a hidden class=anchor aria-hidden=true href=#检出标签>#</a></h4><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>git checkout &lt;tagname&gt;
</code></pre></td></tr></table></div></div><h3 id=git-别名>Git 别名<a hidden class=anchor aria-hidden=true href=#git-别名>#</a></h3><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>git config --global alias.&lt;alias&gt; &lt;commond&gt;
</code></pre></td></tr></table></div></div><p>例如，为了解决取消暂存文件的易用性问题，可以向 Git 中添加你自己的取消暂存别名：</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>git config --global alias.unstage <span style=color:#e6db74>&#39;reset HEAD --&#39;</span>
</code></pre></td></tr></table></div></div><p>这会使下面的两个命令等价：</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>git unstage fileA
git reset HEAD -- fileA
</code></pre></td></tr></table></div></div><p>这样看起来更清楚一些。通常也会添加一个 last 命令，像这样：</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>git config --global alias.last <span style=color:#e6db74>&#39;log -1 HEAD&#39;</span>
</code></pre></td></tr></table></div></div><p>这样，可以轻松地看到最后一次提交。</p><h2 id=git-分支>Git 分支<a hidden class=anchor aria-hidden=true href=#git-分支>#</a></h2><h3 id=创建分支>创建分支<a hidden class=anchor aria-hidden=true href=#创建分支>#</a></h3><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>git branch &lt;branch&gt;
</code></pre></td></tr></table></div></div><h3 id=切换分支>切换分支<a hidden class=anchor aria-hidden=true href=#切换分支>#</a></h3><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>git checkout &lt;branch&gt;
</code></pre></td></tr></table></div></div><h3 id=创建并切换分支>创建并切换分支<a hidden class=anchor aria-hidden=true href=#创建并切换分支>#</a></h3><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>git checkout -b &lt;branch&gt;
</code></pre></td></tr></table></div></div><h3 id=合并分支>合并分支<a hidden class=anchor aria-hidden=true href=#合并分支>#</a></h3><p>切换（<code>checkout</code>）到想要合并入的分支，如 <code>master</code>，然后执行：</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>git merge &lt;branch&gt;
</code></pre></td></tr></table></div></div><p>如何解决合并冲突，举个例子，如果你对 <code>#53</code> 问题的修改和有关 <code>hotfix</code> 分支的修改都涉及到同一个文件的同一处，在合并它们的时候就会产生合并冲突：</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ git merge iss53
Auto-merging index.html
CONFLICT <span style=color:#f92672>(</span>content<span style=color:#f92672>)</span>: Merge conflict in index.html
Automatic merge failed; fix conflicts and <span style=color:#66d9ef>then</span> commit the result.
</code></pre></td></tr></table></div></div><p>你可以在合并冲突后的任意时刻使用 <code>git status</code> 命令来查看那些因包含合并冲突而处于未合并（<code>unmerged</code>）状态的文件：</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">6
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">7
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">8
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ git status
On branch master
You have unmerged paths.
<span style=color:#f92672>(</span>fix conflicts and run <span style=color:#e6db74>&#34;git commit&#34;</span><span style=color:#f92672>)</span>
Unmerged paths:
<span style=color:#f92672>(</span>use <span style=color:#e6db74>&#34;git add &lt;file&gt;...&#34;</span> to mark resolution<span style=color:#f92672>)</span>
both modified: index.html
no changes added to commit <span style=color:#f92672>(</span>use <span style=color:#e6db74>&#34;git add&#34;</span> and/or <span style=color:#e6db74>&#34;git commit -a&#34;</span><span style=color:#f92672>)</span>
</code></pre></td></tr></table></div></div><p>Git 会在有冲突的文件中加入标准的冲突解决标记，这样你可以打开这些包含冲突的文件然后手动解决冲突。出现冲突的文件会包含一些特殊区段，看起来像下面这个样子：</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">6
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">7
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text>&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD:index.html
&lt;div id=&#34;footer&#34;&gt;contact : email.support@github.com&lt;/div&gt;
=======
&lt;div id=&#34;footer&#34;&gt;
please contact us at support@github.com
&lt;/div&gt;
&gt;&gt;&gt;&gt;&gt;&gt;&gt; iss53:index.html
</code></pre></td></tr></table></div></div><p>这表示 <code>HEAD</code> 所指示的版本（也就是你的 <code>master</code> 分支所在的位置，因为你在运行 <code>merge</code> 命令的时候已经检出到了这个分支）在这个区段的上半部分（<code>=======</code> 的上半部分），而 <code>iss53</code> 分支所指示的版本在 <code>=======</code> 的下半部分。为了解决冲突，你必须选择使用由 <code>=======</code> 分割的两部分中的一个，或者你也可以自行合并这些内容。例如，你可以通过把这段内容换成下面的样子来解决冲突：</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html>&lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>id</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;footer&#34;</span>&gt;
please contact us at email.support@github.com
&lt;/<span style=color:#f92672>div</span>&gt;
</code></pre></td></tr></table></div></div><p>上述的冲突解决方案仅保留了其中一个分支的修改，并且 <code>&lt;&lt;&lt;&lt;&lt;&lt;&lt;</code>，<code>=======</code>，和 <code>>>>>>>></code> 这些行被完全删除了。在你解决了所有文件里的冲突之后，对每个文件使用 <code>git add</code> 命令来将其标记为冲突已解决。一旦暂存这些原本有冲突的文件，Git 就会将它们标记为冲突已解决。</p><h3 id=删除分支>删除分支<a hidden class=anchor aria-hidden=true href=#删除分支>#</a></h3><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>git branch -d &lt;branch&gt;
</code></pre></td></tr></table></div></div><p>若要删除包含了还未合并的工作的分支，<code>-d</code> 选项需要改为 <code>-D</code>。</p><h3 id=查看分支历史>查看分支历史<a hidden class=anchor aria-hidden=true href=#查看分支历史>#</a></h3><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>git log --oneline --decorate --graph --all
</code></pre></td></tr></table></div></div><h3 id=查看分支列表>查看分支列表<a hidden class=anchor aria-hidden=true href=#查看分支列表>#</a></h3><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>git branch
</code></pre></td></tr></table></div></div><p>加 <code>-v</code> 选项查看每一个分支的最后一次提交，<code>--merged</code> 与 <code>--no-merged</code> 选项可以过滤这个列表中已经合并或尚未合并到当前分支的分支。</p><h3 id=远程分支>远程分支<a hidden class=anchor aria-hidden=true href=#远程分支>#</a></h3><h4 id=跟踪远程分支>跟踪远程分支<a hidden class=anchor aria-hidden=true href=#跟踪远程分支>#</a></h4><p>远程分支以 <code>&lt;remote>/&lt;branch></code> 命名，跟踪远程分支可以用如下命令：</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>git checkout -b &lt;branch&gt; &lt;remote&gt;/&lt;branch&gt;
</code></pre></td></tr></table></div></div><p>或者可以使用如下命令：</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>git checkout --track &lt;remote&gt;/&lt;branch&gt;
</code></pre></td></tr></table></div></div><p>如果你尝试检出的分支不存在且刚好只有一个名字与之匹配的远程分支，那么 Git 就会自动为你创建一个跟踪分支：</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>git checkout &lt;branch&gt;
</code></pre></td></tr></table></div></div><p>设置已有的本地分支跟踪一个刚刚拉取下来的远程分支，或者想要修改正在跟踪的上游分支，你可以在任意时间使用 <code>-u</code> 或 <code>--set-upstream-to</code> 选项运行 <code>git branch</code> 来显式地设置：</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>git branch -u &lt;remote&gt;/&lt;branch&gt;
</code></pre></td></tr></table></div></div><h4 id=查看跟踪分支>查看跟踪分支<a hidden class=anchor aria-hidden=true href=#查看跟踪分支>#</a></h4><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>git branch -vv
</code></pre></td></tr></table></div></div><h4 id=拉取远程分支>拉取远程分支<a hidden class=anchor aria-hidden=true href=#拉取远程分支>#</a></h4><p>见<a href=#%E4%BB%8E%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93%E4%B8%AD%E6%8A%93%E5%8F%96>从远程仓库中抓取</a>和<a href=#%E4%BB%8E%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93%E4%B8%AD%E6%8B%89%E5%8F%96>从远程仓库中拉取</a>。</p><p>不管设置好的跟踪分支是显式地设置还是通过 <code>clone</code> 或 <code>checkout</code> 命令为你创建的，<code>git pull</code> 都会查找当前分支所跟踪的服务器与分支，从服务器上抓取数据然后尝试合并入那个远程分支。</p><p>由于 <code>git pull</code> 的魔法经常令人困惑所以通常单独显式地使用 <code>fetch</code> 与 <code>merge</code> 命令会更好一些。</p><h4 id=推送远程分支>推送远程分支<a hidden class=anchor aria-hidden=true href=#推送远程分支>#</a></h4><p>见<a href=#%E6%8E%A8%E9%80%81%E5%88%B0%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93>推送到远程仓库</a>。</p><h4 id=删除远程分支>删除远程分支<a hidden class=anchor aria-hidden=true href=#删除远程分支>#</a></h4><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>git push &lt;remote&gt; --delete &lt;branch&gt;
</code></pre></td></tr></table></div></div><h3 id=变基>变基<a hidden class=anchor aria-hidden=true href=#变基>#</a></h3><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>git rebase &lt;branch&gt;
</code></pre></td></tr></table></div></div><p>变基的目的是为了确保在向远程分支推送时能保持提交历史的整洁——例如向某个其他人维护的项目贡献代码时。在这种情况下，你首先在自己的分支里进行开发，当开发完成时你需要先将你的代码进行变基，然后再向主模块提交修改。
这样的话，该项目的维护者就不再需要进行整合工作，只需要快进合并便可。</p><p>以一个例子说明合并（<code>merge</code>）和变基（<code>rebase</code>）的区别，假设现在分支如下：</p><p><img loading=lazy src=/images/git/branch.png alt=现在的分支></p><p>把 <code>experiment</code> 合并到 <code>master</code>：</p><p><img loading=lazy src=/images/git/merge.png alt="把 <code>experiment</code> 合并到 <code>master</code>"></p><p>对应的操作如下：</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>git checkout master
git merge experiment
</code></pre></td></tr></table></div></div><p>可以看到，历史记录<strong>不是一条直线</strong> 。</p><p>如果先把 <code>experiment</code> 变基到 <code>master</code>：</p><p><img loading=lazy src=/images/git/rebase.png alt="把 <code>master</code> 变基到 <code>experiment</code>"></p><p>然后再进行合并操作：</p><p><img loading=lazy src=/images/git/merge2.png alt="把 <code>experiment</code> 合并到 <code>master</code>"></p><p>对应的操作如下：</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>git checkout experiment
git rebase master
git checkout master
git merge experiment
</code></pre></td></tr></table></div></div><p>这样历史记录就<strong>是一条直线</strong>了。</p><p>变基的准则：<strong>如果提交存在于你的仓库之外，而别人可能基于这些提交进行开发，那么不要执行变基。</strong></p><h2 id=github>Github<a hidden class=anchor aria-hidden=true href=#github>#</a></h2><h3 id=生成-ssh-公钥>生成 SSH 公钥<a hidden class=anchor aria-hidden=true href=#生成-ssh-公钥>#</a></h3><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>ssh-keygen -t rsa -C <span style=color:#e6db74>&#34;chris.chenfeiyang@outlook.com&#34;</span>
</code></pre></td></tr></table></div></div><h3 id=添加-ssh-公钥>添加 SSH 公钥<a hidden class=anchor aria-hidden=true href=#添加-ssh-公钥>#</a></h3><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>cat ~/.ssh/id_rsa.pub
</code></pre></td></tr></table></div></div><p>将内容添加到 Github <a href=https://github.com/settings/ssh/new>相应页面</a>添加公钥。</p><h3 id=验证>验证<a hidden class=anchor aria-hidden=true href=#验证>#</a></h3><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>ssh -T git@github.com
</code></pre></td></tr></table></div></div><p>首次使用需要确认并添加主机到本机SSH可信列表。若返回 <code>Hi FreeFlyingSheep! You've successfully authenticated, but GitHub does not provide shell access.</code> 内容，则证明添加成功。</p><h2 id=子模块>子模块<a hidden class=anchor aria-hidden=true href=#子模块>#</a></h2><h3 id=添加子模块>添加子模块<a hidden class=anchor aria-hidden=true href=#添加子模块>#</a></h3><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>git submodule add &lt;url&gt; &lt;path&gt;
</code></pre></td></tr></table></div></div><p>生成的 <code>.gitmodules</code> 该配置文件保存了项目 URL 与已经拉取的本地目录之间的映射。</p><h3 id=克隆含有子模块的项目>克隆含有子模块的项目<a hidden class=anchor aria-hidden=true href=#克隆含有子模块的项目>#</a></h3><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>git clone &lt;url&gt;
git submodule init
git submodule update
</code></pre></td></tr></table></div></div><p>其中，后两行命令可以合并为如下命令：</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>git submodule update --init
</code></pre></td></tr></table></div></div><p>或者，直接使用如下命令一步到位：</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>git clone --recurse-submodules &lt;url&gt;
</code></pre></td></tr></table></div></div><h3 id=从项目远端拉取上游更改>从项目远端拉取上游更改<a hidden class=anchor aria-hidden=true href=#从项目远端拉取上游更改>#</a></h3><p>可以进入到目录中运行 <code>git fetch</code> 与 <code>git merge</code>，或者执行以下命令：</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>git submodule update --remote
</code></pre></td></tr></table></div></div><p>Git 默认会尝试更新所有子模块，你也可以传递想要更新的子模块的名字。</p><p>为了安全起见，如果主模块提交了你刚拉取的新子模块，那么应该在 <code>git submodule update</code> 后面添加 <code>--init</code> 选项，如果子模块有嵌套的子模块，则应使用 &ndash;recursive 选项。
如果你想自动化此过程，那么可以为 <code>git pull</code> 命令添加 <code>--recurse-submodule</code>。</p><h3 id=在子模块上工作>在子模块上工作<a hidden class=anchor aria-hidden=true href=#在子模块上工作>#</a></h3><p>首先，进入每个子模块并检出其相应的工作分支。</p><p>接着，若你做了更改就需要告诉 Git 它该做什么，然后运行 <code>git submodule update --remote</code> 来从上游拉
取新工作。你可以选择将它们合并（<code>--merge</code>）到你的本地工作中，也可以尝试将你的工作变基（<code>--rebase</code>）到新的更改上。</p><p>如果你忘记 <code>--rebase</code> 或 <code>--merge</code>，Git 会将子模块更新为服务器上的状态。并且会将项目重置为一个游离的
<code>HEAD</code> 状态。即便这真的发生了也不要紧，你只需回到目录中再次检出你的分支然后手动地合并或变基任何一个你想要的远程分支就行了。</p><h3 id=查看子模块修改内容>查看子模块修改内容<a hidden class=anchor aria-hidden=true href=#查看子模块修改内容>#</a></h3><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>git diff --submodule
</code></pre></td></tr></table></div></div><h3 id=查看子模块提交历史>查看子模块提交历史<a hidden class=anchor aria-hidden=true href=#查看子模块提交历史>#</a></h3><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>git log -p --submodule
</code></pre></td></tr></table></div></div><h3 id=提交子模块更新>提交子模块更新<a hidden class=anchor aria-hidden=true href=#提交子模块更新>#</a></h3><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>git commit -am <span style=color:#e6db74>&#39;&lt;message&gt;&#39;</span>
</code></pre></td></tr></table></div></div><h3 id=发布子模块改动>发布子模块改动<a hidden class=anchor aria-hidden=true href=#发布子模块改动>#</a></h3><p>在推送主模块前，应该先推送所有子模块。</p><p>可以使用 <code>check</code> 选项，这样如果任何提交的子模块改动没有推送，<code>push</code> 操作会直接失败：</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>git push --recurse-submodules<span style=color:#f92672>=</span>check
</code></pre></td></tr></table></div></div><p>或者在主模块推送时采用 <code>on-demand</code> 选项，让 Git 自己尝试这么做：</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>git push --recurse-submodules<span style=color:#f92672>=</span>on-demand
</code></pre></td></tr></table></div></div><h3 id=切换带子模块的项目的分支>切换带子模块的项目的分支<a hidden class=anchor aria-hidden=true href=#切换带子模块的项目的分支>#</a></h3><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>git checkout --recurse-submodules &lt;branch&gt;
</code></pre></td></tr></table></div></div><h3 id=删除子模块>删除子模块<a hidden class=anchor aria-hidden=true href=#删除子模块>#</a></h3><ol><li>执行 <code>git rm &lt;submodule></code> 删除子模块目录。</li><li>删除 <code>.git/modules</code> 下子模块相关内容。</li><li>编辑 <code>.git/config</code> 删除子模块相关内容。</li><li>执行 <code>git commit</code> 提交更新。</li></ol><h2 id=贮藏>贮藏<a hidden class=anchor aria-hidden=true href=#贮藏>#</a></h2><h3 id=贮藏工作>贮藏工作<a hidden class=anchor aria-hidden=true href=#贮藏工作>#</a></h3><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>git stash <span style=color:#f92672>[</span>push<span style=color:#f92672>]</span>
</code></pre></td></tr></table></div></div><h3 id=查看贮藏的工作>查看贮藏的工作<a hidden class=anchor aria-hidden=true href=#查看贮藏的工作>#</a></h3><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>git stash list
</code></pre></td></tr></table></div></div><h3 id=应用贮藏>应用贮藏<a hidden class=anchor aria-hidden=true href=#应用贮藏>#</a></h3><p>将刚刚贮藏的工作重新应用：</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>git stash apply
</code></pre></td></tr></table></div></div><p>应用一个更旧的贮藏，可以通过名字指定它：</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>git stash apply &lt;stashname&gt;
</code></pre></td></tr></table></div></div><p>比如：</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>git stash apply stash@<span style=color:#f92672>{</span>2<span style=color:#f92672>}</span>
</code></pre></td></tr></table></div></div><p>应用选项只会尝试应用贮藏的工作，不会把贮藏从堆栈上移除。</p><h3 id=移除贮藏>移除贮藏<a hidden class=anchor aria-hidden=true href=#移除贮藏>#</a></h3><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>git stash drop &lt;stashname&gt;
</code></pre></td></tr></table></div></div><h3 id=应用并移除贮藏>应用并移除贮藏<a hidden class=anchor aria-hidden=true href=#应用并移除贮藏>#</a></h3><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>git stash pop
</code></pre></td></tr></table></div></div></div><footer class=post-footer><ul class=post-tags><li><a href=https://freeflyingsheep.github.io/tags/git/>Git</a></li></ul><nav class=paginav><a class=prev href=https://freeflyingsheep.github.io/posts/tips/mips-boot/><span class=title>«</span><br><span>Linux/MIPS 启动</span></a>
<a class=next href=https://freeflyingsheep.github.io/posts/mips/supplement/><span class=title>»</span><br><span>MIPS（补充内容）</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2021 <a href=https://freeflyingsheep.github.io/>FreeFlyingSheep 的小站</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)"><button class=top-link id=top-link type=button accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></button></a>
<script>let menu=document.getElementById('menu');menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)},document.querySelectorAll('a[href^="#"]').forEach(a=>{a.addEventListener("click",function(b){b.preventDefault();var a=this.getAttribute("href").substr(1);window.matchMedia('(prefers-reduced-motion: reduce)').matches?document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView({behavior:"smooth"}),a==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${a}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove('dark'),localStorage.setItem("pref-theme",'light')):(document.body.classList.add('dark'),localStorage.setItem("pref-theme",'dark'))})</script><script>document.querySelectorAll('pre > code').forEach(b=>{const c=b.parentNode.parentNode,a=document.createElement('button');a.classList.add('copy-code'),a.innerText='copy';function d(){a.innerText='copied!',setTimeout(()=>{a.innerText='copy'},2e3)}a.addEventListener('click',e=>{if('clipboard'in navigator){navigator.clipboard.writeText(b.textContent),d();return}const a=document.createRange();a.selectNodeContents(b);const c=window.getSelection();c.removeAllRanges(),c.addRange(a);try{document.execCommand('copy'),d()}catch(a){}c.removeRange(a)}),c.classList.contains("highlight")?c.appendChild(a):c.parentNode.firstChild==c||(b.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?b.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(a):b.parentNode.appendChild(a))})</script></body></html>